<!DOCTYPE html>
<html lang="uk">

<head>
  <meta charset="UTF-8" />
  <title>ZX Palette (preview-img)</title>
  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      background: #1c1c1c;
      color: #ddd;
      font-family: sans-serif;
    }

    body {
      display: flex;
      flex-direction: column;
    }

    #msg8 {
      background: #c33;
      color: #fff;
      padding: 6px 8px;
      font-size: 12px;
      text-align: center;
    }

    .hidden {
      display: none;
    }

    /* Preview area grows, scrolls if content overflows */
    #previewWrapper {
      flex: 1 1 auto;
      overflow: auto;
      border: 1px solid #777;
      margin: 12px;
      background: #000;
      /* optional frame background */
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #previewImg {
      image-rendering: pixelated;
      image-rendering: crisp-edges;
      /* Fallback лише для IE */
      -ms-interpolation-mode: nearest-neighbor;
      /* вже є */
      display: block;
      border: none;
    }

    /* Controls pinned at bottom */
    #controls {
      flex: 0 0 auto;
      padding: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
      border-top: 1px solid #999;
      background: #444;
    }

    button,
    select {
      font: inherit;
      padding: 4px 8px;
      border-radius: 4px;
      background: #333;
      color: #ddd;
      border: none;
      cursor: pointer;
    }

    select {
      appearance: none;
    }
  </style>
</head>

<body>
  <div id="msg8" class="hidden">
    The document size must be a multiple of 8, max 512x384
  </div>

  <div id="previewWrapper">
    <img id="previewImg" src="" alt="Preview" />
  </div>

  <div id="controls">
    <button id="scaleDown">–</button>
    <span id="scaleLabel">3x</span>
    <button id="scaleUp">+</button>

    <label>
      System Scale
      <select id="sysScaleSel">
        <option value="1.00">100%</option>
        <option value="1.25">125%</option>
        <option value="1.50" selected>150%</option>
        <option value="1.75">175%</option>
        <option value="2.00">200%</option>
        <option value="2.25">225%</option>
        <option value="2.50">250%</option>
      </select>
    </label>

    <label>
      Dithering
      <select id="ditherAlgSel" style="width: 170px;">
      <option value="checker2x1">Сheckerboard 2x1</option>
      <option value="bayer2">Bayer 2×2</option>
      <option value="bayer4">Bayer 4×4</option>
      <option value="bayer">Bayer 8×8</option>
      <!--<option value="dotdiff">Dot diffusion (true)</option>-->
      <option value="fs">Floyd–Steinberg</option>
      <option value="jjn">Jarvis–Judice–Ninke</option>
      <option value="sierra3">Sierra-3</option>
      <option value="stucki">Stucki</option>
      <option value="burkes">Burkes</option>
      <option value="atkinson">Atkinson</option>
      <option value="bluenoise">Blue-noise</option>
      <option value="linediag7x7" selected>Line-diag 7×7</option>
      <option value="clustered">Clustered ordered</option>
      <option value="random">Random threshold</option>
      </select>
    </label>

    <label>
      Amount
      <input type="range" id="ditherStrength" min="0" max="100" step="1" value="50" />
      <span id="ditherLabel">50%</span>
    </label>

    <button id="applyBtn">Paste</button>
    <label>
      Bright
      <select id="brightModeSel">
        <option value="on">On</option>
        <option value="off">Off</option>
        <option value="auto" selected>Auto</option>
      </select>
    </label>
    <button id="saveScrBtn">Save .scr</button>
  </div>

  <script src="main.js"></script>
</body>

</html>